<!--miniprogram/pages/technician-list/technician-list.wxml-->
<view class="technician-list-container">
  <view class="page-header">
    <text class="page-title">æŠ€å¸ˆåˆ—è¡¨</text>
  </view>

  <!-- ç­›é€‰æ  -->
  <view class="filter-bar">
    <picker
      mode="selector"
      range="{{cities}}"
      value="{{cityIndex}}"
      bindchange="onCityChange"
    >
      <view class="filter-item">
        <text>åŸå¸‚: {{cities[cityIndex]}}</text>
      </view>
    </picker>
  </view>

  <!-- æŠ€å¸ˆåˆ—è¡¨ -->
  <view class="loading-container" wx:if="{{isLoading}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <view class="technicians-list" wx:else>
    <view
      class="technician-card"
      wx:for="{{technicians}}"
      wx:key="id"
    >
      <image class="technician-avatar" src="{{item.avatar || '/images/avatar-default.png'}}" mode="aspectFill"></image>
      <view class="technician-info">
        <view class="technician-header">
          <text class="technician-name">{{item.name}}</text>
          <view class="verified-badge" wx:if="{{item.realname_verified}}">
            <text>âœ“ å·²è®¤è¯</text>
          </view>
        </view>
        <text class="technician-skills">{{item.skills || 'ç»´ä¿®ä¸“å®¶'}}</text>
        <view class="technician-meta">
          <text class="meta-item">ğŸ“ {{item.city}}</text>
          <text class="meta-item">â­ {{item.rating || '5.0'}}</text>
          <text class="meta-item">ğŸ’¼ {{item.experience || '3'}}å¹´ç»éªŒ</text>
        </view>
        <text class="technician-bio" wx:if="{{item.bio}}">{{item.bio}}</text>
      </view>
    </view>

    <view class="empty-container" wx:if="{{technicians.length === 0}}">
      <text class="empty-text">è¯¥åŸå¸‚æš‚æ— æŠ€å¸ˆ</text>
    </view>
  </view>
</view>
