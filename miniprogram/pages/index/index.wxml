<!--miniprogram/pages/index/index.wxml-->
<view class="index-container">
  <!-- é¡¶éƒ¨æ¨ªå¹… -->
  <view class="banner">
    <view class="banner-content">
      <text class="banner-title">SheFixes</text>
      <text class="banner-subtitle">å¥³æ€§ä¸“å±ç»´ä¿®æœåŠ¡å¹³å°</text>
    </view>
    <image class="banner-bg" src="/images/banner-bg.png" mode="aspectFill"></image>
  </view>

  <!-- æœåŠ¡åˆ†ç±» -->
  <view class="services-section">
    <view class="section-header">
      <text class="section-title">æœåŠ¡åˆ†ç±»</text>
    </view>
    <view class="services-grid">
      <view
        class="service-item"
        wx:for="{{services}}"
        wx:key="id"
        bindtap="onServiceTap"
        data-service="{{item.name}}"
      >
        <view class="service-icon-wrapper">
          <image class="service-icon" src="{{item.icon}}" mode="aspectFit"></image>
        </view>
        <text class="service-name">{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- æ¨èæŠ€å¸ˆ -->
  <view class="technicians-section">
    <view class="section-header">
      <text class="section-title">æ¨èæŠ€å¸ˆ</text>
      <text class="see-all" bindtap="goToTechnicianList">æŸ¥çœ‹å…¨éƒ¨ ></text>
    </view>

    <view class="loading-container" wx:if="{{isLoading}}">
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>

    <view class="technicians-list" wx:else>
      <view
        class="technician-card"
        wx:for="{{technicians}}"
        wx:key="id"
        bindtap="onTechnicianTap"
        data-id="{{item.id}}"
      >
        <image class="technician-avatar" src="{{item.avatar || '/images/avatar-default.png'}}" mode="aspectFill"></image>
        <view class="technician-info">
          <view class="technician-header">
            <text class="technician-name">{{item.name}}</text>
            <view class="verified-badge" wx:if="{{item.realname_verified}}">
              <text>âœ“</text>
            </view>
          </view>
          <text class="technician-skills">{{item.skills || 'ç»´ä¿®ä¸“å®¶'}}</text>
          <view class="technician-meta">
            <text class="technician-city">ğŸ“ {{item.city}}</text>
            <text class="technician-rating">â­ {{item.rating || '5.0'}}</text>
          </view>
        </view>
      </view>

      <view class="empty-container" wx:if="{{technicians.length === 0}}">
        <text class="empty-text">æš‚æ— æŠ€å¸ˆä¿¡æ¯</text>
      </view>
    </view>
  </view>

  <!-- å¿«é€Ÿé¢„çº¦æŒ‰é’® -->
  <view class="quick-booking">
    <button class="btn-quick-booking" bindtap="goToBooking">
      <text>ç«‹å³é¢„çº¦æœåŠ¡</text>
    </button>
  </view>
</view>
